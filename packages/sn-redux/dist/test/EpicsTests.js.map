{"version":3,"sources":["test/EpicsTests.ts"],"names":[],"mappings":"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","file":"EpicsTests.js","sourcesContent":["///<reference path=\"../node_modules/@types/mocha/index.d.ts\"/>\r\nimport 'rxjs';\r\nimport * as nock from 'nock';\r\nimport * as Chai from 'chai';\r\nimport configureMockStore from 'redux-mock-store';\r\nimport { createEpicMiddleware } from 'redux-observable';\r\nimport * as SN from 'sn-client-js';\r\nimport { Epics } from '../src/Epics'\r\nconst expect = Chai.expect;\r\n\r\ndescribe('Epics', () => {\r\n    describe('fetchContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.fetchContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.fetchContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'FETCH_CONTENT_REQUEST', path: '/workspaces/Project' });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'FETCH_CONTENT_REQUEST',\r\n                    path: '/workspaces/Project'\r\n                },\r\n                {\r\n                    type: 'FETCH_CONTENT_FAILURE',\r\n                    filter: 'undefined',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('createContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.createContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.createContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            const content = SN.Content.Create('Article', { DisplayName: 'My article' })\r\n            store.dispatch({ type: 'CREATE_CONTENT_REQUEST', path: '/workspaces/Project', content });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'CREATE_CONTENT_REQUEST',\r\n                    path: '/workspaces/Project',\r\n                    content\r\n                },\r\n                {\r\n                    type: 'CREATE_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('updateContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.updateContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.updateContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            const fields = { DisplayName: 'My article', Index: 2 };\r\n            store.dispatch({ type: 'UPDATE_CONTENT_REQUEST', id: 111, fields });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'UPDATE_CONTENT_REQUEST',\r\n                    id: 111,\r\n                    fields\r\n                },\r\n                {\r\n                    type: 'UPDATE_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('deleteContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.deleteContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.deleteContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'DELETE_CONTENT_REQUEST', id: 111, permanently: false });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'DELETE_CONTENT_REQUEST',\r\n                    id: 111,\r\n                    permanently: false\r\n                },\r\n                {\r\n                    type: 'DELETE_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('deleteBatch Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.deleteBatchEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.deleteBatchEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'DELETE_BATCH_REQUEST', path: '/workspaces/Project', paths: ['1', '2'], permanently: false });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'DELETE_BATCH_REQUEST',\r\n                    path: '/workspaces/Project',\r\n                    paths: ['1', '2'],\r\n                    permanently: false\r\n                },\r\n                {\r\n                    type: 'DELETE_BATCH_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('checkoutContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.checkoutContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.checkoutContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'CHECKOUT_CONTENT_REQUEST', id: 111 });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'CHECKOUT_CONTENT_REQUEST',\r\n                    id: 111\r\n                },\r\n                {\r\n                    type: 'CHECKOUT_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('checkinContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.checkinContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.checkinContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'CHECKIN_CONTENT_REQUEST', id: 111, checkinComment: 'comment' });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'CHECKIN_CONTENT_REQUEST',\r\n                    id: 111,\r\n                    checkinComment: 'comment'\r\n                },\r\n                {\r\n                    type: 'CHECKIN_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('publishContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.publishContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.publishContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'PUBLISH_CONTENT_REQUEST', id: 111 });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'PUBLISH_CONTENT_REQUEST',\r\n                    id: 111\r\n                },\r\n                {\r\n                    type: 'PUBLISH_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('approveContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.approveContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.approveContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'APPROVE_CONTENT_REQUEST', id: 111 });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'APPROVE_CONTENT_REQUEST',\r\n                    id: 111\r\n                },\r\n                {\r\n                    type: 'APPROVE_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('rejectContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.rejectContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        beforeEach(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        afterEach(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.rejectContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'REJECT_CONTENT_REQUEST', id: 111, rejectReason: 'reason' });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'REJECT_CONTENT_REQUEST',\r\n                    id: 111,\r\n                    rejectReason: 'reason'\r\n                },\r\n                {\r\n                    type: 'REJECT_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'REJECT_CONTENT_REQUEST', id: 111 });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'REJECT_CONTENT_REQUEST',\r\n                    id: 111\r\n                },\r\n                {\r\n                    type: 'REJECT_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('undocheckoutContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.undocheckoutContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.undocheckoutContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'UNDOCHECKOUT_CONTENT_REQUEST', id: 111 });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'UNDOCHECKOUT_CONTENT_REQUEST',\r\n                    id: 111\r\n                },\r\n                {\r\n                    type: 'UNDOCHECKOUT_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('forceundocheckoutContent Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.forceundocheckoutContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.forceundocheckoutContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'FORCEUNDOCHECKOUT_CONTENT_REQUEST', id: 111 });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'FORCEUNDOCHECKOUT_CONTENT_REQUEST',\r\n                    id: 111\r\n                },\r\n                {\r\n                    type: 'FORCEUNDOCHECKOUT_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n    describe('restoreVersion Epic', () => {\r\n        let store;\r\n        const epicMiddleware = createEpicMiddleware(Epics.restoreversionContentEpic);\r\n        const mockStore = configureMockStore([epicMiddleware]);\r\n\r\n        before(() => {\r\n            store = mockStore();\r\n        });\r\n\r\n        after(() => {\r\n            nock.cleanAll();\r\n            epicMiddleware.replaceEpic(Epics.restoreversionContentEpic);\r\n        });\r\n        it('handles the error', () => {\r\n            store.dispatch({ type: 'RESTOREVERSION_CONTENT_REQUEST', id: 111, version: 'A.1.0' });\r\n            expect(store.getActions()).to.be.deep.eq(\r\n                [{\r\n                    type: 'RESTOREVERSION_CONTENT_REQUEST',\r\n                    id: 111, \r\n                    version: 'A.1.0'\r\n                },\r\n                {\r\n                    type: 'RESTOREVERSION_CONTENT_FAILURE',\r\n                    message: 'XMLHttpRequest is not supported by your browser'\r\n                }]);\r\n        })\r\n    });\r\n});"]}